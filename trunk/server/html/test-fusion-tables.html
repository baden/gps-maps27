<html>
<head>
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/src/infobox.js"></script>

 <script>


if (typeof SubmarineCableMap == "undefined") {
	var SubmarineCableMap = {};
	//SubmarineCableMap.landing_points_table_id = 1380575;
	SubmarineCableMap.landing_points_table_id = 2293260;

	//SubmarineCableMap.cables_table_id = 1412833;
	SubmarineCableMap.cables_table_id = 2293442;
	SubmarineCableMap.debug = false;
	SubmarineCableMap.search_json_file = 'javascripts/search.json';
	SubmarineCableMap.infoWindow = new google.maps.InfoWindow();
	SubmarineCableMap.infoBox = new InfoBox({closeBoxURL:"",alignBottom:true,pixelOffset:new google.maps.Size(-60,-15)});
	SubmarineCableMap.log = function(e){
		if (SubmarineCableMap.debug) {
			console.log(e);
		}
	}
}

function initialize() {
  var mapDiv = document.getElementById('map-canvas');
  var map = new google.maps.Map(mapDiv, {
    center: new google.maps.LatLng(48.50, 34.58),
    zoom: 12,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });

// Cables FusionLayer
	cables = new google.maps.FusionTablesLayer({
		query: {
			//select: 'coordinates',
			select: 'Location',
			from: SubmarineCableMap.cables_table_id,
			where: 'UserID>0.' + (new Date().getTime())
		},
		styles: [{
				polylineOptions: {
		      strokeOpacity: 2
		    }
		  }]
	});
	cables.setMap(map);

// LandingPoints FusionLayer
	landing_points = new google.maps.FusionTablesLayer({
		query: {
			//select: 'coordinates',
			select: 'Location',
			from: SubmarineCableMap.landing_points_table_id
		}//,
		//suppressInfoWindows:true
	});
	//landing_points.setMap(map);

}
	google.maps.event.addDomListener(window, 'load', initialize);

 </script>
</head>
<body>
 <div id="map-canvas" style="width: 100%; height: 100%;"></div>
</body>
</html>
